version: 2

metrics:
  # Simple metrics
  - name: page_visit_duration
    description: The total time spent on each page
    type: simple
    label: Page Visit Duration (Secs)
    type_params:
      measure: page_visit_duration

saved_queries:
  - name: dogs_by_pack_department
    description: Number of Dogs in each Pack Department
    config:
      cache:
        enabled: true
    query_params:
      metrics:
        - count_dog

      group_by:
        - Dimension('employee_id__pack_department')
    exports:
      - name: dogs_by_department
        config:
          export_as: table
          schema: aa_metrics

  - name: interactions_by_breed_per_site
    description: Tableau Activity Log Information broken down by the Top Dogs
    config:
      cache:
        enabled: true
    query_params:
      metrics:
        - count_activity_log
        - page_visit_duration

      group_by:
        - Dimension('employee_id__pack_department')
        - Dimension('employee_id__bark_name')
        - Dimension('employee_id__breed_title')

    exports:
      - name: dogs_by_department
        config:
          export_as: table
          schema: aa_metrics